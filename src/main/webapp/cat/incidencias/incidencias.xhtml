<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pretty="http://ocpsoft.com/prettyfaces"
      xmlns:predio="http://xmlns.jcp.org/jsf/composite/components/predios">

    <ui:composition template="../../WEB-INF/dadoco-template.xhtml">
        <ui:define name="title">
            <h:outputText value="Registro de Incidencias"></h:outputText>
        </ui:define>

        <ui:define name="content">
            <div class="Container100">
                <div class="ContainerIndent">
                    <div class="Card whiteback">
                        <h1 class="BigTopic Fs16">Nueva incidencia</h1>
                         <hr></hr>
                         <predio:buscarPredio opcionesBusqueda="#{crearIncidenciaView.opcionesBusqueda}"
                                             mostrarParroquia="true"
                                             mostrarZona="true"
                                             mostrarSector="true"
                                             mostrarManzana="true"
                                             mostrarPredio="true"
                                             mostrarBloque="false"
                                             mostrarPHV="false"
                                             mostrarPHH="false"
                                             accionBuscar="#{crearIncidenciaView.buscarPredio()}"
                                             accionCancelar="#{crearIncidenciaView.cancelarCreacionIncidencia()}"
                                             actualizarLuegoDeBusqueda="messages,buscar-predio-form,crearIncidenciaContainer"/>
                   
             <div class="EmptyBox20"></div>
            
                           <h:form id="crearIncidenciaForm" prependId="false">
                               <h:panelGroup layout="block" id="crearIncidenciaContainer" >
                                   <p:panel rendered="#{crearIncidenciaView.opcionesBusqueda.ejecutandoAccion}">
                                                                   
                                       <ui:include src="_datosIncidencia.xhtml"/>
                                  
                                   </p:panel>
                                   <br/>
                                    <br/>
                                   <p:commandButton id="guardar-incidencia-predio-btn"
                                                             rendered="#{crearIncidenciaView.opcionesBusqueda.ejecutandoAccion}"
                                                             update="messages, crearIncidenciaForm,crearIncidenciaContainer"
                                                             icon="fa fa-save" action="#{crearIncidenciaView.incidenciaPredio()}"
                                                             value="Guardar"
                                                             class="Fright white"/>
                               </h:panelGroup>
                           </h:form>     
                  </div>
                </div>
            </div>
        </ui:define>
    </ui:composition>    
</html>
